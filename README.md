# 高配当株分析システム — Dividend Stock Analyzer

公認会計士の専門知識に基づく投資適格性評価を提供する静的Webアプリケーション。

## 🎯 プロジェクト概要

銘柄コード入力により企業の財務指標推移を視覚的に分析し、100点満点のスコアリングとリスク警告で投資適格性を判定します。

## ✅ 実装済み機能

### 1. 銘柄検索機能
- 4桁数字バリデーション（正規表現: `/^\d{4}$/`）
- エラーメッセージ表示（不正入力時）
- クイック選択ボタン（登録全銘柄をワンクリック選択）
- Enterキー対応
- LocalStorageで最終分析銘柄を記憶

### 2. 財務データ表示（8指標 × 年度別テーブル）
| 指標 | 単位 | 判定基準 |
|------|------|----------|
| 売上高 | 百万円 | 前年比増加→青、減少→赤 |
| 営業利益率 | % | 10%以上→青、マイナス→赤 |
| EPS | 円 | 前年比増加→青、減少→赤 |
| 営業CF | 百万円 | 黒字→青、赤字→赤 |
| 1株配当 | 円 | 前年比増加→青、減少→赤 |
| 配当性向 | % | 30-50%→青、それ以外→赤 |
| 自己資本比率 | % | 40%以上→青 |
| 現金等 | 百万円 | 前年比増加→青、減少→赤 |

### 3. 投資適格性スコアリング（100点満点）
- **成長性評価（30点）**: 売上高/EPS/営業CF 各3年連続判定
- **収益性評価（20点）**: 直近3年平均営業利益率 ≥ 10%
- **配当安定性評価（30点）**: 配当維持or増加 + 配当性向30-50%
- **財務健全性評価（20点）**: 自己資本比率 ≥ 40% + 現金増加

### 4. スコアランク
| スコア | ランク | 表示色 |
|--------|--------|--------|
| 90-100 | A+ 優良 | 緑 |
| 70-89 | A 良好 | 青 |
| 50-69 | B 要注意 | 黄 |
| 0-49 | C 投資非推奨 | 赤 |

### 5. リスク警告システム
- 配当性向80%超 → "減配リスクあり"
- 営業利益率マイナス → "本業赤字"
- 自己資本比率30%未満 → "財務脆弱"
- 営業CF3年連続赤字 → "資金繰り悪化"
- 配当性向100%超/マイナス → "利益超過配当"

### 6. サンプル銘柄データ（6社 × 9年分）
| コード | 銘柄名 | セクター |
|--------|--------|----------|
| 9843 | ニトリホールディングス | 小売業 |
| 8591 | オリックス | その他金融業 |
| 8766 | 東京海上ホールディングス | 保険業 |
| 2914 | 日本たばこ産業 | 食料品 |
| 9433 | KDDI | 情報・通信業 |
| 4502 | 武田薬品工業 | 医薬品 |

### 7. レスポンシブ対応
- PC: 4カラムカード + フルテーブル
- タブレット: 2カラムカード
- スマートフォン: 1カラム + 横スクロールテーブル

## 📁 ファイル構成

```
index.html    ... HTMLマークアップ（検索フォーム、カード、テーブル構造）
style.css     ... 全スタイル定義（CSS Variables、レスポンシブ）
app.js        ... 全ロジック（データ、計算、判定、UI描画）
README.md     ... 本ファイル
```

## 🚀 エントリーURI

| パス | 説明 |
|------|------|
| `index.html` | メインアプリケーション |

## 🔧 技術仕様

- **フロントエンド**: HTML5, CSS3, JavaScript ES6+（フレームワーク不使用）
- **データ保存**: LocalStorage（最終分析銘柄の記憶）
- **外部ライブラリ**: Google Fonts (Noto Sans JP, Inter), Font Awesome 6
- **対応ブラウザ**: Chrome, Firefox, Safari, Edge

## 📐 アーキテクチャ設計

### 関数分類

| カテゴリ | 関数 | 特徴 |
|----------|------|------|
| 純粋関数（計算） | `isIncreasing`, `calculateAverage`, `isConsecutiveIncrease` 等 | 副作用なし |
| 判定ロジック | `assessSales`, `assessOperatingMargin`, `calculateInvestmentScore`, `detectRisks` | 副作用なし |
| UI描画 | `renderSummaryCards`, `renderDataTable`, `renderRiskWarnings` | DOM操作 |
| 制御 | `analyzeStock`, `init`, `initEventListeners` | イベント管理 |

## 🔮 未実装・拡張候補

1. **チャート表示**: Chart.js / ECharts による財務指標グラフ（折れ線・棒グラフ）
2. **銘柄比較機能**: 2銘柄を並べて比較分析
3. **CSVエクスポート**: テーブルデータのCSVダウンロード
4. **外部API連携**: リアルタイム株価データの取得
5. **カスタム銘柄登録**: ユーザーが手動でデータを追加
6. **配当利回り計算**: 株価データとの組み合わせ
7. **PDFレポート出力**: 分析結果のPDF生成
8. **ウォッチリスト**: お気に入り銘柄の管理

## 📝 開発メモ

### スコアリングロジックのポイント

1. **成長性（30点）**: 3年連続の「トレンド」を重視。単年の好成績ではなく持続的成長を評価
2. **収益性（20点）**: 営業利益率10%は日本企業の上位水準。平均で判定し一時的な変動を排除
3. **配当安定性（30点）**: 高配当株の核心。「減配しない」ことと「無理のない配当性向」の両面を評価
4. **財務健全性（20点）**: 自己資本比率40%は安定企業の目安。現金増加は将来の配当原資
